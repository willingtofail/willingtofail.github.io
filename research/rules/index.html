<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">	<head>		<title>Rails on Rules | Willing To Fail</title>		<meta name="generator" content="Frontier v10.1a10 10.1a10 MacOS" /><meta http-equiv="content-type" content="text/html; charset=utf-8" />		<link rel="stylesheet" href="../../default.css" type="text/css">				<link rel="stylesheet" href="../../nC.css" type="text/css">						</head>	<body bgcolor="#FFFFFF" alink="#008000" vlink="#800080" link="#0000FF" text="#000000">		<div id="page">			<div id="logo"><img src="../../images/wtf-banner-580x130.png" height="130" width="580" id="logo-image" alt="wtf-banner-580x130 picture" border="0"/></div>			<div id="content">				<div id="secondLevelNav"><p>	Rules: <a href="index.html">Home</a> |	<a href="background.html">Background</a> |	<a href="example.html">Example</a> |	<a href="todo.html">To-Do</a> |	<a href="index.html#goals">Goals</a> |	<a href="index.html#plan">Plan</a>	</p></div>								<div id="nCSect1" class="nCSect">				<h1 class="nCLevel0">Rails on Rules</h1>				<p id="nCSect1Para1" class="nCPara1 nCSectPara1 nCLevel1">I <em>was</em> developing a framework/plugin for Ruby on Rails to enable and promote rule-based web development.</p>				<p id="nCSect1Para2" class="nCPara2 nCSectPara2 nCLevel1">Rails on Rules is a Ruby library that provides application developers with an easy-to-use rule engine.  Rule-based development can dramatically decrease the time it takes to develop a sophisticated application, while at the same time increasing the speed a development team can make simple and complicated local or application-wide changes.</p>				<p id="nCSect1Para3" class="nCPara3 nCSectPara3 nCLevel1">Rails on Rules is stuck at the pre-alpha stage of development.  There isn't any Rails-specific functionality, it's simply a Ruby library.</p>				</div>				<div id="nCSect2" class="nCSect">				<h1 class="nCLevel0">Status Updates</h1>				<div id="nCSect3" class="nCSect">				<h2 class="nCLevel1">December 21, 2008</h2>				<p id="nCSect3Para1" class="nCPara4 nCSectPara1 nCLevel2">I'm learning git, and decided to create a git repository for the rules code as practice. I created a <a href="rules-0.1.tar.gz">tarball</a> from the repository (using the &quot;git archive&quot; command, cool!) and have created a <a href="http://github.com/JimRoepcke/rules">public rules repository on GitHub</a> as well.</p>				<p id="nCSect3Para2" class="nCPara5 nCSectPara2 nCLevel2">I won't be making any improvements to the code in the forseeable future, but if someone finds it useful and wants to improve it they can fork the public GitHub repo and publish their changes (if they're generous enough to do so).</p>				</div>				<div id="nCSect4" class="nCSect">				<h2 class="nCLevel1">June 19, 2007</h2>				<p id="nCSect4Para1" class="nCPara6 nCSectPara1 nCLevel2">I've implemented the rule lookup cache in the rule engine.  The engine is now looking really good... it still needs more tests and more polish, but it's at the point where it needs some real use.  So at this point I am switching my focus to writing an application using the rule engine to help me work out the Rails-side API.  I am thinking of starting with the D2W-like task-oriented templates.</p>				<p id="nCSect4Para2" class="nCPara7 nCSectPara2 nCLevel2">For your information, some historical perspective on D2W:</p>				<p id="nCSect4Para3" class="nCPara8 nCSectPara3 nCLevel2"><a href="../../research/rules/d2w.html">About WebObjects' Direct To Web</a></p>				</div>				<div id="nCSect5" class="nCSect">				<h2 class="nCLevel1">June 18, 2007</h2>				<p id="nCSect5Para1" class="nCPara9 nCSectPara1 nCLevel2">The rule engine is alive!  I found more time to work on this during WWDC and on the way home, and I now have lookups running through the engine.  This includes caching of qualifier objects in the engine and caching of qualifier evaluation in the context.  I abandoned the DNF transformations to the qualifiers.  Down the road, something along those lines might be considered again as an optimization, but I think the approach I'm taking now is better than what I had before.</p>				<p id="nCSect5Para2" class="nCPara10 nCSectPara2 nCLevel2">Currently, I'm not caching the result of lookups in the context, this is an obvious and important thing to do, and will be done once I've done more testing and further improved the test suite.</p>				<p id="nCSect5Para3" class="nCPara11 nCSectPara3 nCLevel2">Gotta stay agile!</p>				</div>				<div id="nCSect6" class="nCSect">				<h2 class="nCLevel1">June 15, 2007</h2>				<p id="nCSect6Para1" class="nCPara12 nCSectPara1 nCLevel2">I've had little time to code during WWDC, but I have managed to complete the algorithm that converts any qualifier graph into DNF with no nesting.  ie: an array of AndQualiifiers containing only KeyValueQualifiers and KeyComparisonQualifiers.</p>				</div>				<div id="nCSect7" class="nCSect">				<h2 class="nCLevel1">June 4, 2007</h2>				<p id="nCSect7Para1" class="nCPara13 nCSectPara1 nCLevel2">I am currently experimenting with algorithms and data structures for representing and evaluting rules.  I have done limited research into existing implementations, because I also want this project to help me discover what works and what doesn't on my own.</p>				<p id="nCSect7Para2" class="nCPara14 nCSectPara2 nCLevel2">In order to make evaluation of rules perform better than linear in the number of rules, I will convert the rules' clauses into qualifier graphs, as in EOQualifier and friends in EOF/D2W.  I found a BSD-licensed implementation of qualifiers in TapKit, which I intend to adapt for my needs.  TapKit's qualifier classes assume you're using their base classes for database-backed objects, whereas I don't want the engine to be limited to working with objects descending from a certain class.</p>				<p id="nCSect7Para3" class="nCPara15 nCSectPara3 nCLevel2"><s>My current idea is to convert all supplied rules into DNF (disjunctive normal form / sum of products) clauses, and building a separate tree for each RHS key from those clauses weighted by the frequency of the conjuncts.</s></p>				</div>				</div>				<div id="nCSect8" class="nCSect">				<h1 class="nCLevel0"><a name="goals"></a>Goals</h1>				<p id="nCSect8Para1" class="nCPara16 nCSectPara1 nCLevel1">Make it easy to take advantage of rules in "traditional" Rails applications - it mustn't be an all-or-nothing proposition.</p>				<p id="nCSect8Para2" class="nCPara17 nCSectPara2 nCLevel1">Make it easy for developers to create and maintain rules.</p>				<p id="nCSect8Para3" class="nCPara18 nCSectPara3 nCLevel1">Make it easy for developers to debug rules.</p>				<p id="nCSect8Para4" class="nCPara19 nCSectPara4 nCLevel1">Support rapid-turnaround (don't require app restarts to reload rules).</p>				<p id="nCSect8Para5" class="nCPara20 nCSectPara5 nCLevel1">Ship base rules that add value immediately for any developer that starts incorporating rules into their application.</p>				<p id="nCSect8Para6" class="nCPara21 nCSectPara6 nCLevel1">Perform well.</p>				<p id="nCSect8Para7" class="nCPara22 nCSectPara7 nCLevel1">Be well documented and easy to understand for developers new to rule-based development.</p>				<p id="nCSect8Para8" class="nCPara23 nCSectPara8 nCLevel1">Make rule-based development attractive to developers using other languages/frameworks.</p>				</div>				<div id="nCSect9" class="nCSect">				<h1 class="nCLevel0"><a name="plan"></a>Plan</h1>				<p id="nCSect9Para1" class="nCPara24 nCSectPara1 nCLevel1"><strong>I am here</strong>: First, I need to design and implement the rule engine.</p>				<p id="nCSect9Para2" class="nCPara25 nCSectPara2 nCLevel1">Then, I need to make something compelling that uses the rule engine.</p>				<p id="nCSect9Para3" class="nCPara26 nCSectPara3 nCLevel1">Then, I need to make it easy for other developers to use and extend that something.</p>				<p id="nCSect9Para4" class="nCPara27 nCSectPara4 nCLevel1">Then, I need to promote the solution.  (This document is the start of that effort)</p>				</div>				</div>			<div id="left-column">				<div id="navigation">					<ul class="nav-links">						<li><a href="../../index.html">Home</a></li>						<li><a href="../../about.html">About</a></li>						<li><a href="../../contact.html">Contact</a></li>						<li><a href="../../links/index.html">Links</a></li>						<!-- <li><a href="../../software/index.html">Software</a></li> -->						<li><a href="../../research/index.html">Research</a></li>						<li><a href="http://jim.roepcke.com/">Jim's Weblog</a></li>						</ul>					</div>				</div>			</div>		<div id="footer">			<p class="update">				This page was last built on Sun, Dec 21, 2008 at 8:30:10 PM with <a href="http://frontierkernel.org/">Frontier</a> on <a href="http://macos.apple.com/">Mac OS X</a>. 				</p>			<p class="update">				Thanks for checking it out! Jim Roepcke				</p>			</div>		</body>	</html>